<style>
    .hit-effect {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 80%);
      border-radius: 50%;
      animation: boom 0.3s ease-out;
      pointer-events: none;
      z-index: 2;
    }
  
    @keyframes boom {
      0% { transform: scale(0); opacity: 1; }
      100% { transform: scale(2); opacity: 0; }
    }
  
    .usagi {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      transition: transform 0.1s;
    }
  
    .show {
      display: block;
    }
  </style>
  
  <script>
    let score = 0;
    let timeLeft = 30;
    let gameInterval;
    let countdownInterval;
  
    const holes = document.querySelectorAll('.hole');
    const scoreDisplay = document.getElementById('score');
    const timeDisplay = document.getElementById('time');
  
    function randomHole() {
      const index = Math.floor(Math.random() * holes.length);
      return holes[index];
    }
  
    function showUsagi() {
      const hole = randomHole();
      const usagi = hole.querySelector('.usagi');
      usagi.classList.add('show');
  
      // 在整個洞上偵測點擊（支援手機）
      hole.onclick = () => {
        if (usagi.classList.contains('show')) {
          score++;
          scoreDisplay.textContent = `分數：${score}`;
          usagi.classList.remove('show');
  
          // 加入擊中特效
          const effect = document.createElement('div');
          effect.classList.add('hit-effect');
          hole.appendChild(effect);
          setTimeout(() => effect.remove(), 300); // 特效動畫後移除
        }
      };
  
      // 自動消失
      setTimeout(() => {
        usagi.classList.remove('show');
      }, 800);
    }
  
    function startGame() {
      score = 0;
      timeLeft = 30;
      scoreDisplay.textContent = "分數：0";
      timeDisplay.textContent = "時間：30 秒";
  
      gameInterval = setInterval(showUsagi, 1000);
      countdownInterval = setInterval(() => {
        timeLeft--;
        timeDisplay.textContent = `時間：${timeLeft} 秒`;
        if (timeLeft <= 0) {
          clearInterval(gameInterval);
          clearInterval(countdownInterval);
          alert(`遊戲結束！你打中了 ${score} 隻烏薩奇 🐰`);
        }
      }, 1000);
    }
  </script>
  