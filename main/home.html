<h1>100 things to do with my babe</h1>
<div id="together_days"></div>
<div id="complete_ratio"></div>

<button id="btn_ALL" onclick="showAll()" type="button" class="btn btn-warning">ALL</button>
<button id="btn_FINSISHED" onclick="showFinished()" type="button" class="btn btn-success">FINISHED</button>
<button id="btn_IN_PROGRESS" onclick="showInProgress()" type="button" class="btn btn-info">IN PROGRESS</button>
<button id="btn_TO_DO" onclick="showToDo()" type="button" class="btn">TO DO</button>

<div id="todo_List" class="list-group"></div>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<script>
    

    
caculateTogetherDays();    
$.getJSON("https://kevin18l2a.github.io/src/test.json", showToDoList )
      
function caculateTogetherDays(){
    var begin = new Date("2021-07-01");
    var today = Date.now();
    var diffTime = Math.abs(today - begin);
    var togetherDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    $("#together_days").text("Together with baby for "+togetherDays+" days!");
}

function showToDoList(json){
  
    var finishWithPhotoCount = 0;
    var finishWithoutPhotoCount = 0;
    
    for(idx in json){
        element = json[idx];
        var itemID = "item_"+element.id;
       if(element.status == "y"){
          finishWithPhotoCount = finishWithPhotoCount+1;
          $("#todo_List").append("<div id='"+itemID+"' name='Finished' class='list-group-item list-group-item-success'>"+element.id+". "+element.title+" (Finished) </div>");
       }else if(element.status == "y-np"){
          finishWithoutPhotoCount = finishWithoutPhotoCount+1;
          $("#todo_List").append("<div id='"+itemID+"' name='InProgress' class='list-group-item list-group-item-info'>"+element.id+". "+element.title+" (In Progress) </div>");
       }else{
          $("#todo_List").append("<div id='"+itemID+"' name='ToDo' class='list-group-item list-group-item-warning'>"+element.id+". "+element.title+" (To Do) </div>");
       }
    }
    var finishCount = finishWithPhotoCount + finishWithoutPhotoCount;
    $("#complete_ratio").text("Completed Ratio: "+finishCount+"%. "+finishWithPhotoCount+" things have been finished from 100 things, but there are also "+finishWithoutPhotoCount+" without photos.");
}
    
function showAll(){
    $('[name="Finished"]').show()
    $('[name="InProgress"]').show()
    $('[name="ToDo"]').show()
}
    
function showFinished(){
    $('[name="Finished"]').show()
    $('[name="InProgress"]').hide()
    $('[name="ToDo"]').hide()
}
    
function showInProgress(){
    $('[name="Finished"]').hide()
    $('[name="InProgress"]').show()
    $('[name="ToDo"]').hide()
}
    
function showToDo(){
    $('[name="Finished"]').hide()
    $('[name="InProgress"]').hide()
    $('[name="ToDo"]').show()
}
    
</script>
