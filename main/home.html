<h1>100 things to do with my babe</h1>
<div id="together_days"></div>
<div id="complete_ratio"></div>
<div id="todo_List"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
    
caculateTogetherDays();    
$.getJSON("https://kevin18l2a.github.io/src/test.json", showToDoList )
    
    
function caculateTogetherDays(){
    var begin = new Date("2021-07-01");
    var today = Date.now();
    var diffTime = Math.abs(today - begin);
    var togetherDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    $("#together_days").text("Together with baby for "+togetherDays+" days!");
}

function showToDoList(json){
  
    var finishWithPhotoCount = 0;
    var finishWithoutPhotoCount = 0;
    
    for(idx in json){
        element = json[idx];
       if(element.status == "y"){
          finishWithPhotoCount = finishWithPhotoCount+1;
          $("#todo_List").append("<p>"+element.id+". "+element.title+" (Finished) </p>");
       }else if(element.status == "y-np"){
          finishWithoutPhotoCount = finishWithoutPhotoCount+1;
          $("#todo_List").append("<p>"+element.id+". "+element.title+" (Finished, but without photo) </p>");
       }else{
          $("#todo_List").append("<p>"+element.id+". "+element.title+" (not yet) </p>");
       }
    }
    var finishCount = finishWithPhotoCount + finishWithoutPhotoCount;
    $("#complete_ratio").text("Completed Ratio: "+finishCount+"%. "+finishWithPhotoCount+" things have been finished from 100 things, but there are also "+finishWithoutPhotoCount+" without photos.");
}
    
</script>
