<h1>100 things to do with my babe</h1>
<div id="together_days"></div>
<div id="complete_ratio"></div>
<div id="todo_List"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
    
caculateTogetherDays();    
$.getJSON("https://kevin18l2a.github.io/src/test.json", showToDoList )
    
    
function caculateTogetherDays(){
    var begin = new Date("2021-07-01");
    var today = Date.now();
    var diffTime = Math.abs(today - begin);
    var togetherDays = Math.ceil((diffTime / (1000 * 60 * 60 * 24))+1);
    $("#together_days").text("Together with baby for "+togetherDays+" days!");
}

function showToDoList(json){
  
    var finishCount = 0;
    var finishNoPhotoCount = 0;
    
    for(idx in json){
        element = json[idx];
       if(element.status == "y"){
          finishCount = finishCount+1;
          $("#todo_List").append("<p>"+element.id+". "+element.title+" (Finished) </p>");
       }else if(value.status == "y-np"){
          finishNoPhotoCount = finishNoPhotoCount+1;
          $("#todo_List").append("<p>"+element.id+". "+element.title+" (Finished, but without photo) </p>");
       }else{
          $("#todo_List").append("<p>"+element.id+". "+element.title+" (not yet) </p>");
       }
    }
    
    $("#complete_ratio").text("Completed Ratio: "+((finishCount+finishNoPhotoCount)/100)+", but there are "+finishNoPhotoCount+" without photo.");
}
    
</script>
