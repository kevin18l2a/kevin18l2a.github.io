<body style="text-align:center">
    
    <h1>100 things to do !</h1>
    <div id="together_days"></div>
    <div id="complete_ratio"></div>    
    
    <div id="demo" class="carousel slide" data-ride="carousel">

      <!-- Indicators -->
      <ul class="carousel-indicators">
        <li data-target="#demo" data-slide-to="0" class="active"></li>
        <li data-target="#demo" data-slide-to="1"></li>
        <li data-target="#demo" data-slide-to="2"></li>
      </ul>

      <!-- The slideshow -->
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://kevin18l2a.github.io/src/img/thing1/O.jpg" alt="Los Angeles" width="300">
        </div>
        <div class="carousel-item">
          <img src="https://kevin18l2a.github.io/src/img/thing1/O.jpg" alt="Chicago" >
        </div>
        <div class="carousel-item">
          <img src="https://kevin18l2a.github.io/src/img/thing1/O.jpg" alt="New York" >
        </div>
      </div>

      <!-- Left and right controls -->
      <a class="carousel-control-prev" href="#demo" data-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </a>
      <a class="carousel-control-next" href="#demo" data-slide="next">
        <span class="carousel-control-next-icon"></span>
      </a>
    </div>
    
    
    
    
    <button id="btn_ALL" onclick="showAll()" type="button" class="btn btn-danger">ALL</button>
    <button id="btn_FINSISHED" onclick="showFinished()" type="button" class="btn btn-success">FINISHED</button>
    <button id="btn_IN_PROGRESS" onclick="showInProgress()" type="button" class="btn btn-info">IN PROGRESS</button>
    <button id="btn_TO_DO" onclick="showToDo()" type="button" class="btn btn-warning">TO DO</button>

    <div class="container">
    <div id="todo_List" class="list-group"></div>
</div>

</body>
    
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
   
caculateTogetherDays();    
$.getJSON("https://kevin18l2a.github.io/src/test.json", showToDoList )
$
    
    
function caculateTogetherDays(){
    var begin = new Date("2021-07-01");
    var today = Date.now();
    var diffTime = Math.abs(today - begin);
    var togetherDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    $("#together_days").text("Together with baby for "+togetherDays+" days!");
}

function showToDoList(json){
  
    var finishWithPhotoCount = 0;
    var finishWithoutPhotoCount = 0;
    
    for(idx in json){
        element = json[idx];
        var itemID = "item_"+element.id;
       if(element.status == "y"){
          finishWithPhotoCount = finishWithPhotoCount+1;
          $("#todo_List").append("<div id='"+itemID+"' name='Finished' class='list-group-item list-group-item-success' onclick='itemOnClick(this.id)'>"+element.id+". "+element.title+" (Finished) </div>");
       }else if(element.status == "y-np"){
          finishWithoutPhotoCount = finishWithoutPhotoCount+1;
          $("#todo_List").append("<div id='"+itemID+"' name='InProgress' class='list-group-item list-group-item-info' onclick='itemOnClick(this.id)'>"+element.id+". "+element.title+" (In Progress) </div>");
       }else{
          $("#todo_List").append("<div id='"+itemID+"' name='ToDo' class='list-group-item list-group-item-warning' onclick='itemOnClick(this.id)'>"+element.id+". "+element.title+" (To Do) </div>");
       }
    }
    var finishCount = finishWithPhotoCount + finishWithoutPhotoCount;
    $("#complete_ratio").text("Completed Ratio: "+finishCount+"%. "+finishWithPhotoCount+" things have been finished from 100 things, but there are also "+finishWithoutPhotoCount+" without photos.");
}
    
function showAll(){
    $('[name="Finished"]').show();
    $('[name="InProgress"]').show();
    $('[name="ToDo"]').show();
}
    
function showFinished(){
    $('[name="Finished"]').show();
    $('[name="InProgress"]').hide();
    $('[name="ToDo"]').hide();
}
    
function showInProgress(){
    $('[name="Finished"]').hide();
    $('[name="InProgress"]').show();
    $('[name="ToDo"]').hide();
}
    
function showToDo(){
    $('[name="Finished"]').hide();
    $('[name="InProgress"]').hide();
    $('[name="ToDo"]').show();
}

function itemOnClick(itemID){
    alert( $('[id="'+itemID+'"]').text() );
}
    
</script>
